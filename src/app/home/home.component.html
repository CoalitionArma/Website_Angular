<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<div class="home text-white justify-center content-center text-center">
  <!-- Login required message - positioned below header (header is 80px tall in most cases) -->
  <div *ngIf="showLoginMessage" class="fixed top-20 left-0 right-0 bg-red-800 text-white py-3 px-4 z-40 flex items-center shadow-md">
    <div class="flex-grow flex justify-center items-center">
      <p class="font-semibold m-0">Please log in to access the {{ requiredPage }} page.</p>
    </div>
    <button class="text-sm bg-red-700 hover:bg-red-600 px-2 py-1 rounded" (click)="showLoginMessage = false">Close</button>
  </div>

  <div class="relative h-dvh">
    <div class="absolute inset-0 bg-cover bg-center justify-center content-center bg-fixed" style="background-image: url('./assets/multi-piece/Coalition_Reforger_Spiral_Blur_USSR_Tunnel.png'); background-repeat: no-repeat;"></div>
    <div class="absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center flex-col">
      <img class="h-1/2 z-20 lg:z-0" src="./assets/Coalition.png" loading="eager" fetchpriority="high" alt="Coalition Logo"/>
      <div class="z-20 lg:z-0">
        <p class="text-white lg:text-5xl text-4xl font-bold font-sans lg:z-0">ACCESSIBLE MILSIM</p>
        <p class="text-white lg:text-xl text-large font-sans lg:z-0">AND GAMING</p>
      </div>
      <div class="absolute inset-0 bg-cover bg-center justify-center content-center bg-fixed -z-10" style="background-image: url('./assets/multi-piece/Coalition_Reforger_Cutout_USSR_Tunnel.png'); background-repeat: no-repeat;"></div>
    </div>
  </div>

  <div id="main-content" class="relative">
    <div class="absolute inset-0 bg-cover bg-center bg-fixed -z-10" style="background-image: url('./assets/images/charlet_bay_dusk.jpg'); background-repeat: no-repeat;"></div>
    
    <section id="about" class="animate-on-scroll w-full h-dvh content-center flex flex-col relative z-10" data-aos="fade-up" data-aos-duration="700">
      <div class="flex flex-col lg:flex-row justify-center items-center h-full px-8">
        <div id="about-text" class="lg:w-2/5 lg:mx-0 mx-auto md:w-3/4 w-full">
          <div class="py-8 px-8 bg-black bg-opacity-80 rounded-lg">
            <div class="px-4">
              <p class="home-small-title text-left drop-shadow text-red-400">WHO WE ARE</p>
              <p class="home-title text-left text-white">An accessible milsim gaming community</p>
              <br>
              <p class="home-text mb-8 text-white">COALITION, founded in 2016, began as an 18+ gaming community for ArmA and other milsim games. Over the years, it has grown to include thousands of international players who participate in a variety of multiplayer games such as DayZ, War Thunder, Squad, Reforger, and DCS.</p>
              <p class="home-text text-white">COALITION is more than just a gaming community; it's a hub for mod creators and events. Whether you're part of a community or an individual player, COALITION is the place to be for Reforger.</p>
            </div>
          </div>
        </div>
  
        <div class="w-2/5 mx-auto lg:mx-0 lg:block hidden pl-8">
          <img class="object-cover h-96 w-auto rounded-lg shadow-lg" src="./assets/images/1874880_20240517211236_1.png" alt="Coalition Gaming Screenshot" loading="lazy">
        </div>
      </div>

      <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 flex flex-col justify-center items-center">
        <span class="text-md text-white font-bold" style="text-shadow: 2px 2px 4px black;">GET INVOLVED</span>
        <svg [cIcon]="icons.cilChevronBottom" customClass="self-center text-white" class="self-center" width="50"></svg>
      </div>
    </section>

    <section id="events" class="animate-on-scroll w-full justify-center h-dvh relative z-10" data-aos="fade-up" data-aos-duration="700">
      <c-carousel [interval]="15000" (itemChange)="onItemChange($event)" class="h-full" transition="slide">
        <c-carousel-inner class="h-full">
          <c-carousel-item *ngFor="let event of events" class="h-full">
            <div class="w-full h-full flex flex-col lg:flex-row justify-center items-center px-8">
              <div class="w-1/2 lg:w-2/5 mx-auto lg:mr-8">
                <img class="object-cover h-96 w-auto rounded-lg shadow-lg" src="{{event.src}}" alt="">
              </div>
              <div class="w-3/5 mx-auto lg:ml-0 lg:w-2/5 mt-8 lg:mt-0">
                <div class="py-8 px-8 bg-black bg-opacity-80 rounded-lg">
                  <div class="px-4">
                    <h2 class="home-title text-white">{{event.title}}</h2>
                    <h3 class="home-medium-title text-red-400"> {{ event.nextEventDate.cstDay }} &#64; {{ event.nextEventDate.cstHour }}  {{ coalTimezoneStr }}</h3>
                    @if (event.nextEventDate.cstDay != event.nextEventDate.localDay && event.nextEventDate.cstHour != event.nextEventDate.localHour) {
                      <p class="home-medium-title text-gray-300">&#40; {{ event.nextEventDate.localDay }} &#64; {{ event.nextEventDate.localHour }} {{ localTimezoneStr }} &#41;</p>
                    }
                    <br>
                    <p class="home-text text-white">
                      {{event.about}}
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </c-carousel-item>
        </c-carousel-inner>
        <c-carousel-control [routerLink] caption="&ZeroWidthSpace;" direction="prev"></c-carousel-control>
        <c-carousel-control [routerLink] caption="&ZeroWidthSpace;" direction="next"></c-carousel-control>
        <c-carousel-indicators></c-carousel-indicators>
      </c-carousel>
    </section>
  </div>

  <section class="relative h-dvh z-10">
    <div class="flex h-full absolute inset-0 bg-cover bg-center bg-fixed justify-center content-center" style="background-image: url('./assets/images/lmg.png'); background-repeat: no-repeat;">
      <div class="absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center flex-col place-content-center">
        <div class="w-1/2">
          <h2 class="text-white lg:text-5xl md:text-4xl text-3xl font-bold font-sans">Wanna get in on the action?</h2>
          <br>
          <div class="flex flex-wrap justify-center"><a class="mt-5 w-full md:w-auto px-8 py-4 mb-4 md:mb-0 md:mr-4 bg-red-900 hover:bg-red-300 text-sm text-white font-medium leading-normal rounded" href="https://discord.gg/the-coalition" target="_blank">Register on Discord</a></div>
        </div>
      </div>

      <div class="self-end flex flex-col z-10 mb-2">
        <a class="self-center grow-none mb-6" href="https://x.com/COALITIONARMA" target="_blank">
          <img class="w-6" src="./assets/x_logo.png" alt="X (Twitter) Logo" loading="lazy">
        </a>
        <span class="text-xs text-neutral-600">{{quoteToDisplay}}</span>
      </div>
    </div>
  </section>
</div>